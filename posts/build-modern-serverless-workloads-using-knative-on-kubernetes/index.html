<!doctype html><html dir=ltr lang=en data-theme=dark><head><title>Mark Chmarny
|
Build and manage modern serverless workloads using Knative on Kubernetes</title><meta charset=utf-8><meta name=generator content="Hugo 0.113.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=description content="
      few longer thoughts, <br/>because every once in a while <br/>140 characters is just not enough


    "><link rel=stylesheet href=/css/main.min.179cc2d1e93212b8ec31560509068248e4269f4b648220d1154adb0d5e94aa7d.css integrity="sha256-F5zC0ekyErjsMVYFCQaCSOQmn0tkgiDRFUrbDV6Uqn0=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.058b31f17db60602cc415fd63b0427e7932fbf35c70d8e341a4c39385f5f6f3e.css integrity="sha256-BYsx8X22BgLMQV/WOwQn55MvvzXHDY40Gkw5OF9fbz4=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/custom.min.c932a7c5e2d9eb0228f2bd2992ea2d5acb4f2715f7d229cebabea22225c38356.css integrity="sha256-yTKnxeLZ6wIo8r0pkuotWstPJxX30inOur6iIiXDg1Y=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin=anonymous><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Indie+Flower&amp;family=Roboto:ital,wght@0,100;0,400;0,700;1,400&amp;display=swap" rel=stylesheet><link rel="shortcut icon" href=/favicons/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.png><link rel=canonical href=https://blog.chmarny.com/posts/build-modern-serverless-workloads-using-knative-on-kubernetes/><script type=text/javascript src=/js/anatole-header.min.d0408165d31a17f17bba83038bf54e86121f85021bdf936382e636f0f77a952f.js integrity="sha256-0ECBZdMaF/F7uoMDi/VOhhIfhQIb35NjguY28Pd6lS8=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/algoliasearch@4.5.1/dist/algoliasearch-lite.umd.js integrity="sha256-EXPXz4W6pQgfYY3yTpnDa3OH8/EPn16ciVsPQ/ypsjk=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4.8.3/dist/instantsearch.production.min.js integrity="sha256-LAGhRRdtVoD6RLo2qDQsU2mp+XVSciKRC8XPOBWmofM=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/anatole-theme-switcher.min.ea8ebe268922ef9849261a1312cd65b640595e65251ce4c00534a176afd1ac0c.js integrity="sha256-6o6+Joki75hJJhoTEs1ltkBZXmUlHOTABTShdq/RrAw=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/search.min.b3a692306dd9db78b63ea76fac0b1b32033f19465563f7378cf5f7dc05811ce7.js integrity="sha256-s6aSMG3Z23i2PqdvrAsbMgM/GUZVY/c3jPX33AWBHOc=" crossorigin=anonymous></script><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.chmarny.com/images/site-feature-image.png"><meta name=twitter:title content="Build and manage modern serverless workloads using Knative on Kubernetes"><meta name=twitter:description content="By now, Kubernetes should be the default target for your deployments. Yes, there are still use-cases where Kubernetes is not the optimal choice, but these represent an increasingly smaller number of modern workloads.
The main value of Kubernetes is that it greatly abstracts much of the infrastructure management pain."><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","name":"Build and manage modern serverless workloads using Knative on Kubernetes","headline":"Build and manage modern serverless workloads using Knative on Kubernetes","alternativeHeadline":"","description":"
      
        By now, Kubernetes should be the default target for your deployments. Yes, there are still use-cases where Kubernetes is not the optimal choice, but these represent an increasingly smaller number of modern workloads.\nThe main value of Kubernetes is that it greatly abstracts much of the infrastructure management pain.


      


    ","inLanguage":"en","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.chmarny.com\/posts\/build-modern-serverless-workloads-using-knative-on-kubernetes\/"},"author":{"@type":"Person","name":"Mark Chmarny"},"creator":{"@type":"Person","name":"Mark Chmarny"},"accountablePerson":{"@type":"Person","name":"Mark Chmarny"},"copyrightHolder":{"@type":"Person","name":"Mark Chmarny"},"copyrightYear":"2018","dateCreated":"2018-07-24T16:05:51.02Z","datePublished":"2018-07-24T16:05:51.02Z","dateModified":"2018-07-24T16:05:51.02Z","publisher":{"@type":"Organization","name":"Mark Chmarny","url":"https://blog.chmarny.com","logo":{"@type":"ImageObject","url":"https:\/\/blog.chmarny.com\/favicons\/favicon-32x32.png","width":"32","height":"32"}},"image":["https://blog.chmarny.com/images/site-feature-image.png"],"url":"https:\/\/blog.chmarny.com\/posts\/build-modern-serverless-workloads-using-knative-on-kubernetes\/","wordCount":"758","genre":["dev"],"keywords":["knative","oss","k8s","serverless","dev"]}</script></head><body><header><div class="page-top
."><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></a><nav><ul class=nav__list id=navMenu><div class=nav__links><li><a href=/ title>Home</a></li><li><a href=/posts/ title>Posts</a></li><li><a href=/search/ title>Search</a></li><li><a href=/about/ title>About</a></li></div><ul><li><a class=theme-switch title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></li></ul></ul></nav></div></header><div class=wrapper><aside><div class="sidebar
."><div class=sidebar__content><div class=logo-title><div class=title><img src=/images/profile.png alt="profile picture"><h3 title><a href=/>Mark Chmarny</a></h3><div class=description><p>few longer thoughts,<br>because every once in a while<br>140 characters is just not enough</p></div></div></div><ul class=social-links><li><a href=https://twitter.com/mchmarny rel=me aria-label=Twitter title=Twitter><i class="fab fa-twitter fa-2x" aria-hidden=true></i></a></li><li><a href=https://fosstodon.org/@mchmarny rel=me aria-label=Mastodon title=Mastodon><i class="fab fa-mastodon fa-2x" aria-hidden=true></i></a></li><li><a href=https://github.com/mchmarny rel=me aria-label=GitHub title=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li><a href=https://speakerdeck.com/mchmarny rel=me aria-label="Speaker Deck" title="Speaker Deck"><i class="fas fa-file-powerpoint fa-2x" aria-hidden=true></i></a></li><li><a href=mailto:blog@chmarny.com rel=me aria-label=e-mail title=e-mail><i class="fas fa-envelope fa-2x" aria-hidden=true></i></a></li></ul></div><footer class="footer footer--sidebar"><div class=by_farbox><ul class=footer__list><li class=footer__item><a rel=me href=https://fosstodon.org/@mchmarny>&copy;2022</a></li></ul></div></footer></div></aside><main><div class=autopagerize_page_element><div class=content><div class="post
."><div class=post-content><div class=post-title><h1>Build and manage modern serverless workloads using Knative on Kubernetes</h1></div><p>By now, <a href=https://kubernetes.io/>Kubernetes</a> should be the default target for your deployments. Yes, there are still use-cases where Kubernetes is not the optimal choice, but these represent an increasingly smaller number of modern workloads.</p><p>The main value of Kubernetes is that it greatly abstracts much of the infrastructure management pain. The broad support amongst virtually all major Cloud Service Providers (CSP) also means that your workloads are portable. Combined with the already vibrant ecosystem of Kubernetes-related tools, means that the experience of the operator, the person responsible for managing Kubernetes, is now pretty smooth.</p><blockquote><p>But what about the experience of the developer, the person who builds solutions on top of Kubernetes?</p></blockquote><p>Despite what some might tell you, Kubernetes is not yet today’s application server. For starters, the act of developing, deploying and managing services on Kubernetes is still too complicated. Yes, there are many open source projects for logging, monitoring, integration, etc., but, even if you put these together just right, the experience of developing on Kubernetes is still fragile and way too labour-intensive.</p><p>As if that wasn’t enough, the growing popularity of functions as the atomic unit of code development further contributes to the overall complexity. Often creating different development patterns on two disconnected surface areas:one for functions (FaaS) and one for applications (PaaS).</p><p>As the result, developers today are being forced to worry about infrastructure-related concerns: such as, image building, registry publishing, deployment services, load balancing, logging, monitoring, and scaling. However, what all they really want to do is write code.</p><h2 id=introducing-knative>Introducing Knative</h2><img align=left src=/images/1__pRrZVrsz5zNyg4AuWGLa3Q.png style="margin:0 20px 5px 0"><p>At Google Cloud Next in San Francisco this week, Google announced an early preview of the GKE serverless add-on (<a href=http://g.co/serverlessaddon>g.co/serverlessaddon</a>). Google also open-sourced Knative (kay-nay-tiv), the project that powers the serverless add-on <a href=https://github.com/knative>github.com/knative</a>.</p><p>Knative implements many of the learnings from Google. The open source project already has contributions from companies like Pivotal, IBM, Red Hat and SAP and collaboration with open-source Function-as-a-Service framework communities like <a href=https://github.com/apache/incubator-openwhisk>OpenWhisk</a>, <a href=https://github.com/projectriff/riff>riff</a>, and <a href=https://github.com/kyma-project>Kyma</a> who either replatform on to Knative or consume one or more components from the Knative project.</p><p><img src=/images/0__v__wKOVy6dsJdbABA.jpg alt></p><blockquote><p>Knative helps developers build, deploy, and manage modern serverless workloads on Kubernetes.</p></blockquote><p>It provides a set of building blocks that enable modern, source-centric and container-based development workloads on Kubernetes:</p><ul><li><a href=https://github.com/knative/build>Build</a> — Source-to-container build orchestration</li><li><a href=https://github.com/knative/eventing>Eventing</a> — Management and delivery of events</li><li><a href=https://github.com/knative/serving>Serving</a> — Request-driven compute that can scale to zero</li></ul><p>Knative documentation provides instructions on <a href=https://github.com/knative/docs/blob/master/install/README.md>how to install</a> it on hosted Kubernetes offering like <a href=https://github.com/knative/docs/blob/master/install/Knative-with-GKE.md>Google Cloud Platform</a> or <a href=https://github.com/knative/docs/blob/master/install/Knative-with-IKS.md>IBM</a>, and on-prem Kubernetes installations, like the one offered by <a href=https://github.com/knative/docs/blob/master/install/Knative-with-PKS.md>Pivotal</a>. Finally, Knative repository also includes <a href=https://github.com/knative/docs/blob/master/install/getting-started-knative-app.md>samples and how-to instructions</a> to get you started developing on Kubernetes.</p><h2 id=knative-overview>Knative Overview</h2><p>Knative is based on the premise of clear separation of concerns. It allows developers and operators to reason about the workload development, deployment, and management by defining primitive objects in a form of Custom Resource Definitions (CRDs) which extend on the object model found in Kubernetes.</p><p><img src=/images/0__hfyRGyNWNFycw5bx.jpg alt></p><ul><li><strong>Configuration</strong> — is the desired state for your service, both code and configuration</li><li><strong>Revision</strong> — represents an immutable point-in-time snapshot of your code and configuration</li><li><strong>Route</strong> — assigns traffic to a revision or revisions of your service</li><li><strong>Service</strong> — is the combined lite version of all the above objects to enable simple use cases</li></ul><p>In addition to these objects, Knative also defines principle objects for eventing… you know, because serverless. Knative decouples event producers and consumers and implements CNCF CloudEvents (v0.1) to streamline event processing.</p><p><img src=/images/0__3jjrwXWgze2pPhnm.jpg alt></p><ul><li><strong>Event Sources</strong> — represents the producer of events (e.g. GitHub)</li><li><strong>Event Types</strong> — describes the types of events supported by the different event sources (e.g. Webhook for the above mentioned GitHub source)</li><li><strong>Event Consumers</strong> — represents the target of your action (i.e. any route defined by Knative)</li><li><strong>Event Feeds</strong> — is the binding or configuration connecting the event types to actions</li></ul><p>The functional implementation of the Knative object model means that Knative is both easy to start with, but capable enough to address more advanced use cases as the complexity of your solutions increases.</p><h2 id=summary>Summary</h2><p>I hope this introduction gave you an understanding of the value of Knative. And how the Knative objects streamline development on Kubernetes, regardless if you work on applications or functions.</p><p>Over the next few weeks I will be covering each one of the key Knative usage patterns (image push, blue/green deployment model, source to URL, etc). In each post, I will also provide a sample code to illustrate that pattern and allow you to reproduce them on Knative. I’m super excited to share Knative with you, and I hope you come back to find out more.</p></div><div class=post-footer><div class=info><span class=separator><a class=category href=/categories/dev/>dev</a></span>
<span class=separator><a class=tag href=/tags/knative/>knative</a><a class=tag href=/tags/oss/>oss</a><a class=tag href=/tags/k8s/>k8s</a><a class=tag href=/tags/serverless/>serverless</a><a class=tag href=/tags/dev/>dev</a></span></div></div></div></div></div></main></div><footer class="footer footer--base"><div class=by_farbox><ul class=footer__list><li class=footer__item><a rel=me href=https://fosstodon.org/@mchmarny>&copy;2022</a></li></ul></div></footer></body></html>