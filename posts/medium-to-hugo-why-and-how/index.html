<!doctype html><html dir=ltr lang=en data-theme=dark><head><title>Mark Chmarny
|
Medium to GitHub using Hugo - Why and How I Migrated my Blog</title><meta charset=utf-8><meta name=generator content="Hugo 0.101.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=description content="
      few longer thoughts, <br/>because every once in a while <br/>140 characters is just not enough


    "><link rel=stylesheet href=/css/main.min.179cc2d1e93212b8ec31560509068248e4269f4b648220d1154adb0d5e94aa7d.css integrity="sha256-F5zC0ekyErjsMVYFCQaCSOQmn0tkgiDRFUrbDV6Uqn0=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.058b31f17db60602cc415fd63b0427e7932fbf35c70d8e341a4c39385f5f6f3e.css integrity="sha256-BYsx8X22BgLMQV/WOwQn55MvvzXHDY40Gkw5OF9fbz4=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/custom.min.c932a7c5e2d9eb0228f2bd2992ea2d5acb4f2715f7d229cebabea22225c38356.css integrity="sha256-yTKnxeLZ6wIo8r0pkuotWstPJxX30inOur6iIiXDg1Y=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin=anonymous><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Indie+Flower&family=Roboto:ital,wght@0,100;0,400;0,700;1,400&display=swap" rel=stylesheet><link rel="shortcut icon" href=/favicons/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.png><link rel=canonical href=https://blog.chmarny.com/posts/medium-to-hugo-why-and-how/><script type=text/javascript src=/js/anatole-header.min.d0408165d31a17f17bba83038bf54e86121f85021bdf936382e636f0f77a952f.js integrity="sha256-0ECBZdMaF/F7uoMDi/VOhhIfhQIb35NjguY28Pd6lS8=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/algoliasearch@4.5.1/dist/algoliasearch-lite.umd.js integrity="sha256-EXPXz4W6pQgfYY3yTpnDa3OH8/EPn16ciVsPQ/ypsjk=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4.8.3/dist/instantsearch.production.min.js integrity="sha256-LAGhRRdtVoD6RLo2qDQsU2mp+XVSciKRC8XPOBWmofM=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/anatole-theme-switcher.min.ea8ebe268922ef9849261a1312cd65b640595e65251ce4c00534a176afd1ac0c.js integrity="sha256-6o6+Joki75hJJhoTEs1ltkBZXmUlHOTABTShdq/RrAw=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/search.min.b3a692306dd9db78b63ea76fac0b1b32033f19465563f7378cf5f7dc05811ce7.js integrity="sha256-s6aSMG3Z23i2PqdvrAsbMgM/GUZVY/c3jPX33AWBHOc=" crossorigin=anonymous></script><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.chmarny.com/images/site-feature-image.png"><meta name=twitter:title content="Medium to GitHub using Hugo - Why and How I Migrated my Blog"><meta name=twitter:description content="Why not Medium My main reason for migrating off Medium was the paywall Medium introduced while back. I actually understand why they did it. The unlimited access price: $5/month ($50/year) is too high, but still, I get it.
For me though, the objective was to allow readers to easily discover and read my posts."><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","name":"Medium to GitHub using Hugo - Why and How I Migrated my Blog","headline":"Medium to GitHub using Hugo - Why and How I Migrated my Blog","alternativeHeadline":"","description":"
      
        Why not Medium My main reason for migrating off Medium was the paywall Medium introduced while back. I actually understand why they did it. The unlimited access price: $5\/month ($50\/year) is too high, but still, I get it.\nFor me though, the objective was to allow readers to easily discover and read my posts.


      


    ","inLanguage":"en","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.chmarny.com\/posts\/medium-to-hugo-why-and-how\/"},"author":{"@type":"Person","name":"Mark Chmarny"},"creator":{"@type":"Person","name":"Mark Chmarny"},"accountablePerson":{"@type":"Person","name":"Mark Chmarny"},"copyrightHolder":{"@type":"Person","name":"Mark Chmarny"},"copyrightYear":"2022","dateCreated":"2022-01-03T13:51:00.02Z","datePublished":"2022-01-03T13:51:00.02Z","dateModified":"2022-01-03T13:51:00.02Z","publisher":{"@type":"Organization","name":"Mark Chmarny","url":"https://blog.chmarny.com","logo":{"@type":"ImageObject","url":"https:\/\/blog.chmarny.com\/favicons\/favicon-32x32.png","width":"32","height":"32"}},"image":["https://blog.chmarny.com/images/site-feature-image.png"],"url":"https:\/\/blog.chmarny.com\/posts\/medium-to-hugo-why-and-how\/","wordCount":"765","genre":["dev"],"keywords":["hugo","github","blog"]}</script></head><body><header><div class="page-top
."><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></a><nav><ul class=nav__list id=navMenu><div class=nav__links><li><a href=/ title>Home</a></li><li><a href=/posts/ title>Posts</a></li><li><a href=/search/ title>Search</a></li><li><a href=/about/ title>About</a></li></div><ul><li><a class=theme-switch title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></li></ul></ul></nav></div></header><div class=wrapper><aside><div class="sidebar
."><div class=sidebar__content><div class=logo-title><div class=title><img src=/images/profile.png alt="profile picture"><h3 title><a href=/>Mark Chmarny</a></h3><div class=description><p>few longer thoughts,<br>because every once in a while<br>140 characters is just not enough</p></div></div></div><ul class=social-links><li><a href=https://twitter.com/mchmarny rel=me aria-label=Twitter title=Twitter><i class="fab fa-twitter fa-2x" aria-hidden=true></i></a></li><li><a href=https://github.com/mchmarny rel=me aria-label=GitHub title=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li><a href=https://speakerdeck.com/mchmarny rel=me aria-label="Speaker Deck" title="Speaker Deck"><i class="fas fa-file-powerpoint fa-2x" aria-hidden=true></i></a></li><li><a href=mailto:blog@chmarny.com rel=me aria-label=e-mail title=e-mail><i class="fas fa-envelope fa-2x" aria-hidden=true></i></a></li></ul></div><footer class="footer footer--sidebar"><div class=by_farbox><ul class=footer__list><li class=footer__item>&copy;2022</li></ul></div></footer></div></aside><main><div class=autopagerize_page_element><div class=content><div class="post
."><div class=post-content><img class=post-thumbnail src=/images/hugo.png alt="Thumbnail image"><div class=post-title><h1>Medium to GitHub using Hugo - Why and How I Migrated my Blog</h1></div><h2 id=why-not-medium>Why not Medium</h2><p>My main reason for migrating off Medium was the <a href=https://help.medium.com/hc/en-us/articles/360017581433-About-the-metered-paywall>paywall</a> Medium introduced while back. I actually understand why they did it. The unlimited access price: $5/month ($50/year) is too high, but still, I get it.</p><p>For me though, the objective was to allow readers to easily discover and read my posts. I don&rsquo;t want my readers to experience any friction. Forcing the reader to deal with the frustrating Medium up-sell pop-ups just to read my post was just unnecessary.</p><h2 id=why-hugo-on-github>Why Hugo on GitHub</h2><p>I chose Hugo because it was the simplest, most flexible, and fastest <a href=https://www.techighness.com/post/static-site-and-static-site-generator-ssg/>static site generator</a> I could find. It allowed me to use the technologies I already was familiar with (e.g. <a href=https://www.markdownguide.org/>Markdown</a>). And, it can be easily deployed to any number of hosting targets (e.g. including <a href=https://pages.github.com/>GitHub Pages</a> for free!).</p><p>The other properties of Hugo that contributed to my decision were:</p><ul><li>Open source (<a href=https://github.com/gohugoio/hugo/blob/master/LICENSE>Apache v2</a>) with a <a href=https://discourse.gohugo.io/>thriving community</a> and <a href=https://themes.gohugo.io/>many free themes</a> to choose from</li><li>Written in <a href=https://go.dev/>Go</a> with well-documented customization/contribution process (<a href=https://github.com/gohugoio/hugo/blob/master/README.md>github.com/gohugoio/hugo</a>)</li><li>Multilingual support (one of these days I&rsquo;ll write in Polish; one of these days&mldr;)</li></ul><h2 id=how-i-migrated-content>How I Migrated content</h2><blockquote><p>The process of migrating form Medium to Hugo was a lot more complex than I expected. It was mainly related to some idiosyncrasies of how Medium exports images and formats code samples in its HTML files. Hope my learnings captured in this post are helpful.</p></blockquote><p>Medium provides a quick way to export all of your personal content as HTML files in a single .zip file. The entire process for either desktop of mobile is documented <a href=https://help.medium.com/hc/en-us/articles/115004745787-Export-your-account-data>here</a>.</p><p>Once I had my content downloaded locally, I had to convert the posts into Markdown (it&rsquo;s how posts are defined in Hugo). I&rsquo;ve tried a few tools and the <a href=https://github.com/gautamdhameja/medium-2-md>medium2md</a> CLI did the best job. After the conversion, I had to manually modify the Hugo metadata generated by my HTML to Markdown conversion tool. Here is an example of the metadata for this post:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>Medium to GitHub using Hugo - Why and How I Migrated my Blog</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>date</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;2022-01-03T13:51:00.022Z&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>categories</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>dev]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>tags</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>hugo, github, blog]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>thumbnail</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;/images/hugo.png&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>draft</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>Note: <code>medium2md</code> requires Node. The only other migration tool I found that wasn&rsquo;t Node based was <a href=https://github.com/bgadrian/medium-to-hugo>medium-to-hugo</a> but it hasn&rsquo;t been updated for over 3 years.</p></blockquote><p>Once I had my posts in Markdown format and all the images exported, I&rsquo;ve used the <a href=https://gohugo.io/getting-started/quick-start/>Hugo Quick Start</a> docs to create my site. Most of the steps were easy to follow. I&rsquo;ve spent over two hours selecting the theme for my blog, but that has to do more with the amount of free themes that are available and my inability to make a decision.</p><p>The one thing that made the whole customization a lot easier was the live reload feature in Hugo. When started as a server in the developer mode (<code>hugo server -D</code>), Hugo allowed me to edit the different configuration options as well as post content and instantaneously view them in the browser without reload or refreshing of the pages. This made the whole experience a lot easier and faster.</p><p>Once I was satisfied with how my blog looked, I moved on to deploying the blog to GitHub. Hugo has a doc on <a href=https://gohugo.io/hosting-and-deployment/hosting-on-github/>how to publish</a> your blog to GitHib pages which keeps everything in a single, public, repo. I&rsquo;ve opted to keep my Hugo project in a private repo called <code>blog</code>, and use <a href=https://github.com/marketplace/actions/hugo-setup>GitHub Action</a> to publish only the generated content to another repo (<code>mchmarny.github.io</code>).</p><p>To do this I had to edit the Hugo workflow to provide parameters for the <code>external_repository</code> and configuring a deploy key on the repo. The standard <code>GITHUB_TOKEN</code> has no permission to access to external repositories.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy Blog</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>github.ref == &#39;refs/heads/main&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>deploy_key</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.ACTIONS_DEPLOY_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>external_repository</span><span class=p>:</span><span class=w> </span><span class=l>mchmarny/mchmarny.github.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>publish_branch</span><span class=p>:</span><span class=w> </span><span class=l>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>publish_dir</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>commit_message</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.event.head_commit.message }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>cname</span><span class=p>:</span><span class=w> </span><span class=l>blog.chmarny.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>allow_empty_commit</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>Notice the <code>cname</code> setting in the above YAML. It&rsquo;s required to setup the SSL cert for the custom domain in my blog. More on setting up custom domain in GitHub pages <a href=https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site>here</a>.</p></blockquote><p>As a result of this configuration:</p><ul><li>Site generation workflow is triggered with each commit to the <code>blog</code> repo</li><li>I can write and edit posts on my iPad just by creating a new Markdown file (<code>*.md</code>)</li><li>New posts in draft mode are not being discoverable in public site (<code>draft: true</code> in hugo prevents the public content from being generated)</li><li>Static content (no DB) means more secure site (i.e. how often do you hear about <a href=https://www.cvedetails.com/vulnerability-list/vendor_id-2337/product_id-4096/>Wordpress vulnerabilities</a>)</li></ul><p>I hope you found my experience of migrating from Medium to Hugo helpful.</p></div><div class=post-footer><div class=info><span class=separator><a class=category href=/categories/dev/>dev</a></span>
<span class=separator><a class=tag href=/tags/hugo/>hugo</a><a class=tag href=/tags/github/>github</a><a class=tag href=/tags/blog/>blog</a></span></div></div></div></div></div></main></div><footer class="footer footer--base"><div class=by_farbox><ul class=footer__list><li class=footer__item>&copy;2022</li></ul></div></footer></body></html>